# ============================================================
# Lumi Draw - Environment Variables
# Copy this file to .env and fill in the actual values
# ============================================================

# --- FastAPI ---
APP_HOST=0.0.0.0
APP_PORT=8000
LOG_LEVEL=info

# --- Primary LLM (minimax-m21) ---
LLM_PRIMARY_MODEL=minimax-m21
LLM_PRIMARY_BASE_URL=http://10.220.77.197:9506/v1
LLM_PRIMARY_API_KEY=EMPTY
LLM_PRIMARY_TEMPERATURE=0.2
LLM_PRIMARY_TIMEOUT=60
LLM_PRIMARY_MAX_RETRIES=1

# --- Fallback LLM (kimi-k2) ---
LLM_FALLBACK_MODEL=Kimi-K2-Instruct
LLM_FALLBACK_BASE_URL=https://maas-apigateway.dt.zte.com.cn/model/kimi-k2/v1
LLM_FALLBACK_API_KEY=your-kimi-k2-api-key
LLM_FALLBACK_MAX_TOKENS=32000
LLM_FALLBACK_TEMPERATURE=0.2
LLM_FALLBACK_TIMEOUT=60
LLM_FALLBACK_MAX_RETRIES=1

# --- VL Quality Check Model (Qwen3-VL-30B) ---
VL_MODEL_URL=http://10.220.77.197:9503/v1/chat/completions
VL_MODEL_NAME=Qwen3-VL-30B
VL_QUALITY_THRESHOLD=7

# --- Langfuse Observability ---
LANGFUSE_SECRET_KEY=your-langfuse-secret-key
LANGFUSE_PUBLIC_KEY=your-langfuse-public-key
LANGFUSE_HOST=http://10.220.76.166:3001

# --- Image Upload ---
IMAGE_REMOTE_HOST=10.220.77.197
IMAGE_REMOTE_DIR=/home/ccn-a/images/
IMAGE_LOCAL_DIR=/home/ccn-a/images/
IMAGE_URL_BASE=http://10.220.77.197/images/
IMAGE_SFTP_USERNAME=ccn-a

# --- Renderer ---
RENDER_OUTPUT_DIR=/tmp/image_gen
# Render mode: pure_css (no JS) or enhanced_web (allows ECharts etc.)
RENDER_HTML_MODE=enhanced_web
# Comma-separated CDN domains allowed in enhanced_web mode
RENDER_ALLOWED_HOSTS=cdn.jsdelivr.net,unpkg.com,cdnjs.cloudflare.com
# Timeout (ms) for page ready signal (window.__LUMI_RENDER_DONE__)
RENDER_READY_TIMEOUT_MS=12000
# Block external images (tracking pixels, unknown image hosts)
RENDER_BLOCK_EXTERNAL_IMAGES=true
# Use local ECharts bundle instead of CDN (for air-gapped environments)
RENDER_USE_LOCAL_ECHARTS=false

# --- Mermaid Migration ---
# Set to true only if you need to temporarily re-enable Mermaid tools (rollback).
# Requires service restart. Will be removed after migration is complete.
AGENT_ENABLE_MERMAID=false
